<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Or√ßamento | Pena Planejados</title>

<link rel="icon" href="favicon.png">
<link rel="manifest" href="manifest.json">

<script src="https://cdn.tailwindcss.com"></script>

<script>
tailwind.config = {
  theme: {
    extend: {
      colors: {
        vinho: '#7a0f2b',
        cinza: '#e5e5e5'
      }
    }
  }
}
</script>

<style>
/* ===== CONFIGURA√á√ÉO DE IMPRESS√ÉO PROFISSIONAL ===== */
@page {
  size: A4;
  margin: 10mm;
}

@media print {
  body {
    background: white;
  }

  .nao-imprimir {
    display: none !important;
  }

  /* Cabe√ßalho FOR√áADO lado a lado na impress√£o */
  .cabecalho {
    flex-direction: row !important;
    align-items: center !important;
    justify-content: space-between !important;
  }

  table, tr, td, th {
    page-break-inside: avoid !important;
  }

  section {
    break-inside: avoid;
  }
}

input:disabled {
  background-color: #f3f4f6;
}
</style>
</head>

<body class="bg-gray-200 flex justify-center p-2 md:p-4">

<div id="orcamento" class="bg-white w-full md:w-[210mm] min-h-[297mm] text-sm">

<!-- CABE√áALHO -->
<header class="cabecalho flex flex-col md:flex-row justify-between items-center p-4 md:p-6 border-b-4 border-vinho gap-4">
  
  <div class="flex justify-center md:justify-start">
    <img src="logo.png" class="w-40 md:w-56 object-contain" alt="Pena Planejados">
  </div>

  <div class="text-center md:text-right text-sm">
    <p>Rua do Hospital s/n</p>
    <p>Santa Am√©lia ‚Äì Posto da Mata ‚Äì BA</p>
    <p><strong>Respons√°veis:</strong> Fl√°vio Pena e Gilm√°ria Pena</p>
    <p><strong>Contato:</strong> (73) 99959-4928 / (73) 99999-2026</p>
    <p id="dataAtual" class="text-vinho font-bold"></p>
  </div>

</header>

<!-- DADOS -->
<section class="p-4 md:p-6">
  <h2 class="bg-cinza text-vinho font-bold px-4 py-2">DADOS PESSOAIS</h2>
  <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mt-4">
    <input class="campo border p-2" placeholder="Cliente">
    <input class="campo border p-2" placeholder="Telefone">
    <input class="campo border p-2" placeholder="Endere√ßo">
  </div>
</section>

<!-- OR√áAMENTO -->
<section class="p-4 md:p-6">
  <h2 class="bg-cinza text-vinho font-bold px-4 py-2">OR√áAMENTO</h2>

  <div class="overflow-x-auto">
    <table class="w-full border mt-4">
      <thead class="bg-cinza text-vinho">
        <tr>
          <th class="border p-2">Descri√ß√£o</th>
          <th class="border p-2 w-16">Qtd</th>
          <th class="border p-2 w-24">√Ä Vista</th>
          <th class="border p-2 w-24">√Ä Prazo</th>
          <th class="border p-2 w-10 nao-imprimir">üóë</th>
        </tr>
      </thead>

      <tbody id="itens"></tbody>

      <tfoot>
        <tr>
          <td colspan="2" class="border p-2 text-right font-bold bg-cinza">VALOR TOTAL</td>
          <td id="totalVista" class="border p-2 font-bold">R$ 0,00</td>
          <td id="totalPrazo" class="border p-2 font-bold">R$ 0,00</td>
          <td class="border nao-imprimir"></td>
        </tr>
      </tfoot>
    </table>
  </div>

  <button onclick="addLinha()" class="nao-imprimir mt-4 bg-vinho text-white px-4 py-2 rounded w-full md:w-auto">
    Adicionar Item
  </button>
</section>

<!-- OBSERVA√á√ïES -->
<section class="p-4 md:p-6">
  <h2 class="bg-cinza text-vinho font-bold px-4 py-2">OBSERVA√á√ïES</h2>
  <p>‚Ä¢ Validade do or√ßamento: 15 dias ap√≥s o envio.</p>
  <p>‚Ä¢ Prazo de entrega: A combinar.</p>
  <p>‚Ä¢ Forma de pagamento: 50% na assinatura do contrato e 50% na entrega.</p>
</section>

<!-- CONSIDERA√á√ïES -->
<section class="p-4 md:p-6">
  <h2 class="bg-cinza text-vinho font-bold px-4 py-2">CONSIDERA√á√ïES FINAIS</h2>
  <p class="mt-2">Prezado(a) Sr.(a),</p>
  <p class="mt-2">
    A Pena Planejados agradece a oportunidade de apresentar este or√ßamento.
    Permanecemos √† disposi√ß√£o para quaisquer esclarecimentos.
  </p>
  <p class="mt-6 text-center font-bold text-vinho">
    Eben√©zer at√© aqui nos ajudou o Senhor (1 Sm 7:12)
  </p>
</section>

<!-- BOT√ÉO -->
<div class="nao-imprimir flex justify-center p-4 md:p-6">
  <button onclick="window.print()" class="bg-blue-600 text-white px-6 py-2 rounded">
    Imprimir / Salvar PDF
  </button>
</div>

</div>

<script>
dataAtual.innerText = new Date().toLocaleDateString('pt-BR')

function addLinha(){
  const tr = document.createElement('tr')
  tr.innerHTML = `
    <td class="border p-2"><input class="campo w-full border p-1"></td>
    <td class="border p-2"><input type="number" value="1" class="campo w-full border p-1 qtd"></td>
    <td class="border p-2"><input type="number" step="0.01" class="campo w-full border p-1 vista"></td>
    <td class="border p-2"><input type="number" step="0.01" class="campo w-full border p-1 prazo"></td>
    <td class="border p-2 text-center nao-imprimir">
      <button onclick="this.closest('tr').remove();calc()" class="text-red-600">‚úñ</button>
    </td>
  `
  itens.appendChild(tr)
  tr.querySelectorAll('input').forEach(i => i.oninput = calc)
}

function calc(){
  let v = 0, p = 0
  document.querySelectorAll('#itens tr').forEach(tr => {
    const q = +tr.querySelector('.qtd').value || 0
    v += q * (+tr.querySelector('.vista').value || 0)
    p += q * (+tr.querySelector('.prazo').value || 0)
  })
  totalVista.innerText = v.toLocaleString('pt-BR',{style:'currency',currency:'BRL'})
  totalPrazo.innerText = p.toLocaleString('pt-BR',{style:'currency',currency:'BRL'})
}

addLinha()
</script>

</body>
</html>